{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":";AAAA;;GAEG;;;AAEH,+BAA8F;AAgJrF,+FAhJA,oBAAc,OAgJA;AACd,yFAjJgB,cAAQ,OAiJhB;AAhJjB,uCAAwC;AA8I/B,0FA9IA,iBAAS,OA8IA;AA7IlB,uCAA2C;AAC3C,2CAA6F;AA+IpF,4FA/IgB,qBAAW,OA+IhB;AA9IpB,2DAA4E;AAC5E,yEAA4E;AAC5E,yEAAiG;AACjG,qDAAwE;AACxE,+CAA+D;AAC/D,yCAA0C;AAE1C;;;;GAIG;AACH,MAAM,QAAQ,GAAG;IAEhB,WAAW,EAAE,EAAE;IAEf;;OAEG;IACH,KAAK,EAAE,MAAM;SACX,IAAI,CAAC,iBAAS,CAAC;SACf,MAAM,CAAC,UAAU,CAAC,EAAE,KAAK;QAEzB,IAAI,IAAI,GAAY,KAAK,CAAC;QAE1B,IAAI,KAAK,IAAI,CAAC,EACd;YACC,IAAI,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;SAChB;aACI,IAAI,iBAAS,CAAC,KAAK,CAAC,IAAI,CAAC,EAC9B;YACC,IAAI,GAAG,CAAC,CAAC,iBAAS,CAAC,KAAK,CAAC,CAAC,CAAC;SAC3B;aAED;YACC,IAAI,GAAG,oBAAc,CAAC,iBAAS,CAAC,KAAK,CAAC,CAAC,CAAC;SACxC;QAED,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;QAEhB,OAAO,CAAC,CAAC;IACV,CAAC,EAAE,EAEF,CAAC;IAEH;;OAEG;IACH,QAAQ,EAAE,oBAAY,CAAC,MAAM,EAAE,IAAI,CAAC;IAEpC;;OAEG;IACH,OAAO,EAAE,MAAM,CAAC,IAAI,CAAC,wBAAc,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,GAAG;QAE3D,CAAC,CAAC,GAAG,CAAC,GAAG,qBAAW,CAAC,GAAG,CAAC,CAAC;QAC1B,OAAO,CAAC,CAAC;IACV,CAAC,EAAE,EAA2B,CAAC;IAE/B,mCAAmC;IAEnC,SAAS,EAAE,yBAAa,EAAE;IAE1B,MAAM,EAAE,mBAAU,EAAE;IAEpB,MAAM,EAAE,mBAAU,EAAE;IAEpB,eAAe,EAAE,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAW;IAE9D,UAAU,EAAE,CAAC,GAAG,EAAE;QAEjB,OAAO;YAEN,OAAO,EAAE,KAAK;YACd,MAAM,EAAE,KAAK;YACb,MAAM,EAAE,KAAK;YAEb,wCAAwC;YACxC,+CAA+C;YAE/C,WAAW,EAAE,MAAM,CAAC,OAAO,CAAC,wBAAc,EAAE,CAAC;iBAC3C,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC;gBAErB,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,EACjB;oBACC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iBACf;gBAED,OAAO,CAAC,CAAC;YACV,CAAC,EAAE,EAAgD,CAAC;YAErD,UAAU,EAAE,MAAM,CAAC,OAAO,CAAC,qCAAoB,EAAE,CAAC;iBAChD,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC;gBAErB,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,EACjB;oBACC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iBACf;gBAED,OAAO,CAAC,CAAC;YACV,CAAC,EAAE,EAAsD,CAAC;YAE3D,UAAU,EAAE,MAAM,CAAC,OAAO,CAAC,qCAAoB,EAAE,CAAC;iBAChD,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC;gBAErB,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,EACjB;oBACC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;iBACf;gBAED,OAAO,CAAC,CAAC;YACV,CAAC,EAAE,EAAsD,CAAC;SAE3D,CAAC;IAEH,CAAC,CAAC,EAAE;CAEJ,CAAC;AAEF,QAAQ,CAAC,UAAU,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;AAC5F,QAAQ,CAAC,UAAU,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;AAC1F,QAAQ,CAAC,UAAU,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;AAE1F,QAAQ,CAAC,WAAW,GAAG,MAAM;KAC3B,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;KACvB,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC;IAErB,IAAI,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,EACxB;QACC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KACV;IAED,OAAO,CAAC,CAAC;AACV,CAAC,EAAE,EAAc,CAAC;KACjB,IAAI,CAAC,EAAE,CAAC,CACT;AAEY,QAAA,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;AAS/C,kBAAe,eAAO,CAAA","sourcesContent":["/**\n * Created by user on 2018/4/26/026.\n */\n\nimport { hasSupportFlag, testFlag, ICreateRegExp, IFlagsAll, ITypeCreateRegExp } from './lib';\nimport { FlagsName } from './lib/flags';\nimport { testFlagsAll } from './lib/index';\nimport { PatternSupport, testPattern, IPatternTestFn, IPatternTestRow } from './lib/pattern';\nimport { testUnicodeAll, UNICODE_ALL } from './lib/pattern/charset/unicode';\nimport { testUnicodeBlocksAll } from './lib/pattern/charset/unicode-blocks';\nimport { testUnicodeScriptAll, UNICODE_SCRIPTS_ALL } from './lib/pattern/charset/unicode-script';\nimport { testPrototype, IRegExpPrototype } from './lib/proto/prototype';\nimport { testStatic, IRegExpStatic } from './lib/proto/static';\nimport { testSymbol } from './lib/symbol';\n\n/**\n * @link https://zh.wikipedia.org/wiki/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F\n * @link https://www.regular-expressions.info/posixbrackets.html\n * @link http://2ality.com/archive.html?tag=regexp\n */\nconst _support = {\n\n\tnativeFlags: '',\n\n\t/**\n\t * flag support with name and pattern test\n\t */\n\tflags: Object\n\t\t.keys(FlagsName)\n\t\t.reduce(function (a, flags)\n\t\t{\n\t\t\tlet bool: boolean = false;\n\n\t\t\tif (flags in a)\n\t\t\t{\n\t\t\t\tbool = a[flags];\n\t\t\t}\n\t\t\telse if (FlagsName[flags] in a)\n\t\t\t{\n\t\t\t\tbool = a[FlagsName[flags]];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbool = hasSupportFlag(FlagsName[flags]);\n\t\t\t}\n\n\t\t\ta[flags] = bool;\n\n\t\t\treturn a;\n\t\t}, {} as {\n\t\t\t[k in keyof typeof FlagsName]: boolean\n\t\t}),\n\n\t/**\n\t * all flag support without name and pattern test\n\t */\n\tflagsAll: testFlagsAll(RegExp, true),\n\n\t/**\n\t * pattern support\n\t */\n\tpattern: Object.keys(PatternSupport).reduce(function (a, key)\n\t{\n\t\ta[key] = testPattern(key);\n\t\treturn a;\n\t}, {} as typeof PatternSupport),\n\n\t//hasFlagsProp: /x/g.flags === 'g',\n\n\tprototype: testPrototype(),\n\n\tstatic: testStatic(),\n\n\tsymbol: testSymbol(),\n\n\tobjectStringTag: Object.prototype.toString.call(/a/) as string,\n\n\tunicodeSet: (() => {\n\n\t\treturn {\n\n\t\t\tunicode: false,\n\t\t\tscript: false,\n\t\t\tblocks: false,\n\n\t\t\t//unicodeKeys: Object.keys(UNICODE_ALL),\n\t\t\t//scriptKeys: Object.keys(UNICODE_SCRIPTS_ALL),\n\n\t\t\tunicodeTest: Object.entries(testUnicodeAll())\n\t\t\t\t.reduce(function (a, b)\n\t\t\t\t{\n\t\t\t\t\tif (b[1] !== null)\n\t\t\t\t\t{\n\t\t\t\t\t\ta[b[0]] = b[1];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn a;\n\t\t\t\t}, {} as Partial<ReturnType<typeof testUnicodeAll>>),\n\n\t\t\tscriptTest: Object.entries(testUnicodeScriptAll())\n\t\t\t\t.reduce(function (a, b)\n\t\t\t\t{\n\t\t\t\t\tif (b[1] !== null)\n\t\t\t\t\t{\n\t\t\t\t\t\ta[b[0]] = b[1];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn a;\n\t\t\t\t}, {} as Partial<ReturnType<typeof testUnicodeScriptAll>>),\n\n\t\t\tblocksTest: Object.entries(testUnicodeBlocksAll())\n\t\t\t\t.reduce(function (a, b)\n\t\t\t\t{\n\t\t\t\t\tif (b[1] !== null)\n\t\t\t\t\t{\n\t\t\t\t\t\ta[b[0]] = b[1];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn a;\n\t\t\t\t}, {} as Partial<ReturnType<typeof testUnicodeBlocksAll>>),\n\n\t\t};\n\n\t})(),\n\n};\n\n_support.unicodeSet.unicode = Object.values(_support.unicodeSet.unicodeTest).includes(true);\n_support.unicodeSet.script = Object.values(_support.unicodeSet.scriptTest).includes(true);\n_support.unicodeSet.blocks = Object.values(_support.unicodeSet.blocksTest).includes(true);\n\n_support.nativeFlags = Object\n\t.keys(_support.flagsAll)\n\t.reduce(function (a, f)\n\t{\n\t\tif (_support.flagsAll[f])\n\t\t{\n\t\t\ta.push(f);\n\t\t}\n\n\t\treturn a;\n\t}, [] as string[])\n\t.join('')\n;\n\nexport const support = Object.freeze(_support);\n\nexport { FlagsName }\nexport { hasSupportFlag };\nexport { testFlag };\nexport { testPattern };\n\nexport { IRegExpPrototype, IRegExpStatic }\n\nexport default support\n"]}