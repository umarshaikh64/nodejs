{"version":3,"file":"unicode-script.js","sourceRoot":"","sources":["unicode-script.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Created by user on 2018/5/6/006.\n */\n\nimport CACHE_PROPERTY_DATA from '../cache/property-data';\nimport { ICreateRegExp, ITypeCreateRegExp } from '../../index';\nimport { IPatternTestFn, IPatternTestRow, PatternSupport, testPattern } from '../../pattern';\nimport { _createFnTestPattern, log_dir } from '../../util/index';\nimport { _wrapToRegexName } from './index';\n\nimport CACHE_BLOCKS from '../cache/blocks';\nimport CACHE_CATEGORIES from '../cache/categories';\nimport CACHE_PROPERTIES from '../cache/properties';\nimport CACHE_SCRIPTS from '../cache/scripts';\n\nexport const KEY_PREFIX = '\\\\p{Script=';\nexport const KEY_PREFIX_NEGATION = '\\\\P{Script=';\nexport const KEY_SUFFIX = '}';\n\n/**\n * @link http://2ality.com/2017/07/regexp-unicode-property-escapes.html\n * @link https://en.wikipedia.org/wiki/Unicode_character_property\n */\nexport const UNICODE_SCRIPTS = {\n\n\tGreek: false,\n\tLatin: false,\n\n\tKatakana: false,\n\tHiragana: false,\n\n\tHan: false,\n\tHangul: false,\n\n};\n\nexport const UNICODE_SCRIPTS_ALL = {\n\t...CACHE_SCRIPTS,\n\n\t...CACHE_PROPERTY_DATA.Script,\n\n\t...UNICODE_SCRIPTS,\n};\n\nexport enum UNICODE_SCRIPTS_NAME_ALIAS\n{\n\tArabic = 'Arab',\n\tBengali = 'Beng',\n\tCoptic = 'Copt',\n\tCyrillic = 'Cyrl',\n\n\tEthiopic = 'Ethi',\n\tGeorgian = 'Geor',\n\tGreek = 'Grek',\n\tHan = 'Hani',\n\n\tKatakana = 'Kana',\n\tHiragana = 'Hira',\n\n\n\tLatin = 'Latn',\n\tTamil = 'Taml',\n\tTibetan = 'Tibt',\n\n}\n\nObject.keys(UNICODE_SCRIPTS_NAME_ALIAS)\n\t.forEach(function (key)\n\t{\n\t\tlet k2 = UNICODE_SCRIPTS_NAME_ALIAS[key];\n\n\t\tif (k2 && !UNICODE_SCRIPTS_NAME_ALIAS[k2])\n\t\t{\n\t\t\t// @ts-ignore\n\t\t\tUNICODE_SCRIPTS_NAME_ALIAS[k2] = key;\n\t\t}\n\t})\n;\n\nexport const PatternTest: {\n\t[k in keyof typeof UNICODE_SCRIPTS_ALL]?: IPatternTestRow[];\n} = {\n\n\tGreek: [\n\t\t['^\\\\p{Script=Greek}+$', 'u', 'μετά', true, 'test'],\n\t],\n\n\tLatin: [\n\t\t['^\\\\p{Script=Latin}+$', 'u', 'Grüße', true, 'test'],\n\t\t['^\\\\p{Script=Latin}+$', 'u', 'façon', true, 'test'],\n\t\t['^\\\\p{Script=Latin}+$', 'u', 'mañana', true, 'test'],\n\t],\n\n\tKatakana: [\n\t\t['^\\\\p{Script=Katakana}+$', 'u', 'カタカナ', true, 'test'],\n\t],\n\n\tHiragana: [\n\t\t['^\\\\p{Script=Hiragana}+$', 'u', 'ひらがな', true, 'test'],\n\t],\n\n\tHan: [\n\t\t['^\\\\p{Script=Han}+$', 'u', 'カタカナ', false, 'test'],\n\t\t['^\\\\p{Script=Han}+$', 'u', '可以知道', true, 'test'],\n\t],\n\n\tHangul: [\n\t\t['^\\\\p{Script=Hangul}+$', 'u', '\\u1190', true, 'test'],\n\t],\n\n\tCommon: [\n\t\t['^\\\\p{Script=Common}+$', 'u', '!', true, 'test'],\n\t],\n\n\tArabic: [\n\t\t['^\\\\p{Script=Arabic}+$', 'u', 'لمو', true, 'test'],\n\t],\n\n\tBengali: [\n\t\t['^\\\\p{Script=Bengali}+$', 'u', 'আমার', true, 'test'],\n\t],\n\tCyrillic: [\n\t\t['^\\\\p{Script=Cyrillic}+$', 'u', 'летачко', true, 'test'],\n\t],\n\tEthiopic: [\n\t\t['^\\\\p{Script=Ethiopic}+$', 'u', 'ማንዣበቢያ', true, 'test'],\n\t],\n\tGeorgian: [\n\t\t['^\\\\p{Script=Georgian}+$', 'u', 'ხომალდი', true, 'test'],\n\t],\n\n\tCoptic: [\n\t\t['^\\\\p{Script=Coptic}+$', 'u', 'Ϫ', true, 'test'],\n\t\t['^\\\\p{Script=Coptic}+$', 'u', '\\u03ea', true, 'test'],\n\t],\n\n\tTamil: [\n\t\t['^\\\\p{Script=Tamil}+$', 'u', '்', true, 'test'],\n\t\t['^\\\\p{Script=Tamil}+$', 'u', '\\u0bcd', true, 'test'],\n\t],\n\n\tTibetan: [\n\t\t['^\\\\p{Script=Tibetan}+$', 'u', '༬', true, 'test'],\n\t\t['^\\\\p{Script=Tibetan}+$', 'u', '\\u0f2c', true, 'test'],\n\t],\n\n};\n\nexport const _testUnicodeScript = _createFnTestPattern(PatternTest);\n\nexport function testUnicodeScript<T>(name: string, RegExpClass?: ITypeCreateRegExp<T>, testPatterns: typeof PatternTest = PatternTest): boolean\n{\n\tif (!PatternTest.hasOwnProperty(name) && UNICODE_SCRIPTS_NAME_ALIAS[name] && PatternTest.hasOwnProperty(UNICODE_SCRIPTS_NAME_ALIAS[name]))\n\t{\n\t\tname = UNICODE_SCRIPTS_NAME_ALIAS[name];\n\t}\n\n\treturn _testUnicodeScript(name, RegExpClass, testPatterns);\n}\n\n// @ts-ignore\nexport function testUnicodeScriptAll<T>(RegExpClass: ITypeCreateRegExp<T> = RegExp, testPatterns = PatternTest)\n{\n\treturn Object.keys(UNICODE_SCRIPTS_ALL).reduce(function (a, key)\n\t{\n\t\ta[key] = testUnicodeScript(key, RegExpClass, testPatterns);\n\t\treturn a;\n\t}, {} as typeof UNICODE_SCRIPTS_ALL);\n}\n\nexport function wrapToRegexName(name: string, negation?: boolean)\n{\n\tlet prefix = KEY_PREFIX;\n\n\tif (negation)\n\t{\n\t\tprefix = KEY_PREFIX_NEGATION;\n\t}\n\n\treturn _wrapToRegexName(name, prefix, KEY_SUFFIX);\n}\n"]}