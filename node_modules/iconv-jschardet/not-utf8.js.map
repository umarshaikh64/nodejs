{"version":3,"file":"not-utf8.js","sourceRoot":"","sources":["not-utf8.ts"],"names":[],"mappings":";;;AAAA;;GAEG;AACH,mCAAiC;AACjC,uCAA2D;AAE3D;;GAEG;AACH,SAAgB,cAAc,CAA4C,GAAW;IAEpF,IAAI,GAAG,GAAG,cAAM,CAAC,GAAG,CAAC,CAAC;IACtB,OAAO,YAAI,CAAI,GAAG,CAAC,QAAQ,CAAC,CAAC;AAC9B,CAAC;AAJD,wCAIC;AAED;;;GAGG;AACH,SAAgB,aAAa,CAAC,GAAW;IAExC,IAAI,GAAG,GAAG,cAAM,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;IAC5B,IAAI,QAAQ,GAAG,YAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IAElC,OAAO,CAAC,QAAQ,sBAAgC,IAAI,QAAQ,wBAAiC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC;AAC7G,CAAC;AAND,sCAMC;AAED;;;GAGG;AACH,SAAgB,OAAO,CAAC,GAAoB;IAE3C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,EACzB;QACC,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;KACtB;IAED,OAAO,aAAa,CAAC,GAAG,CAAC,CAAA;AAC1B,CAAC;AARD,0BAQC;AAED,kBAAe,OAAsC,CAAC","sourcesContent":["/**\n * Created by user on 2019/3/21.\n */\nimport { detect } from './index';\nimport { CODEC_DATA_ENCODING_ID, _enc } from './lib/const';\n\n/**\n * 檢測 Buffer 並且返回小寫標準化後的編碼 ID\n */\nexport function detectEncoding<T extends CODEC_DATA_ENCODING_ID | string>(buf: Buffer): T\n{\n\tlet chk = detect(buf);\n\treturn _enc<T>(chk.encoding);\n}\n\n/**\n * 當 Buffer 編碼不屬於 UTF-8 或者 ascii 時\n * 返回編碼資訊\n */\nexport function notUTF8Buffer(buf: Buffer)\n{\n\tlet chk = detect(buf, true);\n\tlet encoding = _enc(chk.encoding);\n\n\treturn (encoding === CODEC_DATA_ENCODING_ID.utf8 || encoding === CODEC_DATA_ENCODING_ID.ascii) ? null : chk;\n}\n\n/**\n * 當 Buffer | string 編碼不屬於 UTF-8 或者 ascii 時\n * 返回編碼資訊\n */\nexport function notUTF8(buf: Buffer | string)\n{\n\tif (!Buffer.isBuffer(buf))\n\t{\n\t\tbuf = Buffer.from(buf)\n\t}\n\n\treturn notUTF8Buffer(buf)\n}\n\nexport default exports as typeof import('./not-utf8');\n"]}