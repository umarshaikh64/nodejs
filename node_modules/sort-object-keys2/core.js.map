{"version":3,"file":"core.js","sourceRoot":"","sources":["core.ts"],"names":[],"mappings":";;;AAWA,SAAgB,UAAU,CAA6B,MAAS,EAAE,QAAQ;IAEzE,IAAI,OAAO,GAAgB,EAAE,CAAC;IAE9B,IAAI,OAAO,QAAQ,KAAK,UAAU,EAClC;QACC,OAAO,CAAC,IAAI,GAAG,QAAQ,CAAC;KACxB;SACI,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,EAChC;QACC,OAAO,CAAC,IAAI,GAAG,QAAQ,CAAC;KACxB;SAED;QACC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;KAC3C;IAED,IAAI,EACH,IAAI,GAAG,EAAyB,EAChC,SAAS,GACT,GAAG,OAAO,CAAC;IAEZ,IAAI,OAAO,CAAC,QAAQ,EACpB;QACC,SAAS,GAAG,KAAK,CAAC;QAElB,IAAI,OAAO,IAAI,CAAC,MAAM,KAAK,QAAQ,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EACxD;YACC,MAAM,IAAI,cAAc,CAAC,qCAAqC,CAAC,CAAA;SAC/D;KACD;SAED;QACC,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE;aAClB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAC/C;KACD;IAED,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC;IAE1B,IAAI,OAAO,CAAC,IAAI,EAChB;QACC,IAAI,GAAG,IAAI,CAAC,OAAO,EAAE,CAAA;KACrB;IAED,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,KAAK,EAAE,GAAG;QAEzC,IAAI,OAAO,CAAC,cAAc,IAAI,GAAG,IAAI,MAAM,EAC3C;YACC,KAAK,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;SACzB;QAED,OAAO,KAAK,CAAC;IACd,CAAC,EAAE,EAAgB,CAAC,CAAC;IAErB,IAAI,SAAS,EACb;QACE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAyB;aACvC,OAAO,CAAC,UAAU,GAAG,EAAE,KAAK,EAAE,KAAK;YAEnC,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC;YACnB,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;QACxB,CAAC,CAAC,CACF;QAED,OAAO,MAAM,CAAC;KACd;IAED,OAAO,GAAG,CAAC;AACZ,CAAC;AArED,gCAqEC;AAqCsB,oCAAc;AALrC,UAAU,CAAC,cAAc,GAAG,UAAU,CAAC;AAEvC,aAAa;AACZ,UAAkB,CAAC,OAAO,GAAG,UAAU,CAAC;AAIzC,SAAS,YAAY,CAAC,KAAY;IAEjC,OAAO,KAAK,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,KAAK,EAAE,GAAG;QAE3C,OAAO,KAAK,KAAK,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IAClC,CAAC,CAAC,CAAC;AACJ,CAAC;AAED,kBAAe,UAAU,CAAC","sourcesContent":["\nexport function sortObject<T extends Record<any, any>>(object: T, sortFn: IOptions<T>[\"sort\"]): T\nexport function sortObject<T extends Record<any, any>>(object: T, keyOrders: IOptions<T>[\"keys\"]): T\nexport function sortObject<T extends Record<any, any>>(object: T, options?: Omit<IOptions<T>, 'keys' | 'onlyKeys'> & {\n\tkeys: IOptions<T>[\"keys\"],\n\tonlyKeys: true,\n}): Partial<T>\nexport function sortObject<T extends Record<any, any>>(object: T, options?: Omit<IOptions<T>, 'useSource'> & {\n\tuseSource: true,\n}): T\nexport function sortObject<T extends Record<any, any>>(object: T, options?: IOptions<T>): T\nexport function sortObject<T extends Record<any, any>>(object: T, sortWith): T | Partial<T>\n{\n\tlet options: IOptions<T> = {};\n\n\tif (typeof sortWith === 'function')\n\t{\n\t\toptions.sort = sortWith;\n\t}\n\telse if (Array.isArray(sortWith))\n\t{\n\t\toptions.keys = sortWith;\n\t}\n\telse\n\t{\n\t\toptions = Object.assign(options, sortWith);\n\t}\n\n\tlet {\n\t\tkeys = [] as IOptions<T>[\"keys\"],\n\t\tuseSource,\n\t} = options;\n\n\tif (options.onlyKeys)\n\t{\n\t\tuseSource = false;\n\n\t\tif (typeof keys.length !== 'number' || keys.length === 0)\n\t\t{\n\t\t\tthrow new ReferenceError(`options.key is empty or not exists.`)\n\t\t}\n\t}\n\telse\n\t{\n\t\tkeys = keys.concat()\n\t\t\t.concat(Object.keys(object).sort(options.sort))\n\t\t;\n\t}\n\n\tkeys = array_unique(keys);\n\n\tif (options.desc)\n\t{\n\t\tkeys = keys.reverse()\n\t}\n\n\tlet ret = keys.reduce(function (total, key)\n\t{\n\t\tif (options.allowNotExists || key in object)\n\t\t{\n\t\t\ttotal[key] = object[key];\n\t\t}\n\n\t\treturn total;\n\t}, {} as Partial<T>);\n\n\tif (useSource)\n\t{\n\t\t(Object.keys(ret) as IOptions<T>[\"keys\"])\n\t\t\t.forEach(function (key, index, array)\n\t\t\t{\n\t\t\t\tdelete object[key];\n\t\t\t\tobject[key] = ret[key];\n\t\t\t})\n\t\t;\n\n\t\treturn object;\n\t}\n\n\treturn ret;\n}\n\nexport interface IOptions<T extends Record<any, any> = Record<any, any> , K extends string = Extract<keyof T, string>>\n{\n\t/**\n\t * key order\n\t */\n\tkeys?: (string | K)[],\n\t/**\n\t * return Object only keys\n\t * will disable useSource\n\t */\n\tonlyKeys?: boolean,\n\t/**\n\t * sort callback\n\t *\n\t * @param a\n\t * @param b\n\t * @returns {any}\n\t */\n\tsort?: (a: string | K, b: string | K) => number,\n\t/**\n\t * return reversed Object\n\t */\n\tdesc?: boolean,\n\tallowNotExists?: boolean,\n\t/**\n\t * return source Object\n\t */\n\tuseSource?: boolean,\n}\n\nsortObject.sortObjectKeys = sortObject;\n\n// @ts-ignore\n(sortObject as any).default = sortObject;\n\nexport { sortObject as sortObjectKeys }\n\nfunction array_unique(array: any[])\n{\n\treturn array.filter(function (el, index, arr)\n\t{\n\t\treturn index === arr.indexOf(el);\n\t});\n}\n\nexport default sortObject;\n"]}