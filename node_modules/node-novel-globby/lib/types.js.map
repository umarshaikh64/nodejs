{"version":3,"file":"types.js","sourceRoot":"","sources":["types.ts"],"names":[],"mappings":";AAAA;;GAEG;;;AAmEH,SAAgB,cAAc,CAAC,EAAe,EAAE,UAA6C,EAAE;IAE9F,IAAI,aAAa,GAAG,CAAC,OAAO,CAAC,aAAa,KAAK,IAAI,IAAI,OAAO,CAAC,aAAa,KAAK,KAAK,CAAC;QACtF,CAAC,CAAC,OAAO,CAAC,aAAa;QACvB,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC;IAErB,IAAI,CAAC,EAAE,EACP;QACC,OAAO,EAAE,CAAC;KACV;IAED,OAAO,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC;SACtB,MAAM,CAAC,UAAU,CAAW,EAAE,CAAC;QAE/B,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;aACd,OAAO,CAAC,UAAU,KAAK,EAAE,KAAK,EAAE,KAAK;YAErC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACxD,CAAC,CAAC,CACF;QAED,OAAO,CAAC,CAAC;IACV,CAAC,EAAE,EAAE,CAAC,CACL;IAEF;;;;;;;;;;;;MAYE;AACH,CAAC;AAtCD,wCAsCC","sourcesContent":["/**\n * Created by user on 2020/6/9.\n */\n\nimport { IOptions } from '@lazy-glob/util/lib/types/glob';\nimport Bluebird from 'bluebird';\n\nexport interface IApi<T>\n{\n\t(options: IOptions): T\n\n\t(patterns?: string[], options?: IOptions): T\n}\n\nexport type IApiSync = IApi<IReturnList>;\nexport type IApiAsync = IApi<Bluebird<IReturnList>>;\n\nexport interface IApiWithReturnGlob<T>\n{\n\t(options: IOptionsWithReturnGlobList): T\n\n\t(patterns?: string[], options?: IOptionsWithReturnGlobList): T\n}\n\nexport type IApiWithReturnGlobSync = IApiWithReturnGlob<IReturnGlob>;\nexport type IApiWithReturnGlobAsync = IApiWithReturnGlob<Bluebird<IReturnGlob>>;\nexport type IOptionsWithReturnGlobList = IOptions & IReturnGlobListOptions;\nexport type IReturnGlob = string[];\n\nexport interface IReturnRow\n{\n\tsource_idx: number,\n\tsource_path: string,\n\tpath: string,\n\tpath_dir: string,\n\tdir: string,\n\tfile: string,\n\text: string,\n\tvolume_title: string,\n\tchapter_title: string,\n\tval_file: string,\n\tval_dir: string,\n}\n\nexport interface IReturnList\n{\n\t[index: number]: IReturnRow[],\n\n\t[key: string]: IReturnRow[],\n}\n\nexport interface IReturnList2\n{\n\t/*\n\t[key: string]: {\n\t\t[index: number]: IReturnRow,\n\t\t[key: string]: IReturnRow,\n\t},\n\t*/\n\t[key: string]: IReturnRow[],\n\n\t[index: number]: IReturnRow[],\n}\n\nexport interface IReturnGlobListOptions\n{\n\tuseSourcePath?: boolean,\n}\n\nexport function returnGlobList(ls: IReturnList, options: IReturnGlobListOptions & IOptions = {}): string[]\n{\n\tlet useSourcePath = (options.useSourcePath === true || options.useSourcePath === false)\n\t\t? options.useSourcePath\n\t\t: !options.absolute;\n\n\tif (!ls)\n\t{\n\t\treturn [];\n\t}\n\n\treturn Object.values(ls)\n\t\t.reduce(function (a: string[], b)\n\t\t{\n\t\t\tObject.values(b)\n\t\t\t\t.forEach(function (value, index, array)\n\t\t\t\t{\n\t\t\t\t\ta.push(useSourcePath ? value.source_path : value.path);\n\t\t\t\t})\n\t\t\t;\n\n\t\t\treturn a;\n\t\t}, [])\n\t\t;\n\n\t/*\n\treturn Object.keys(ls)\n\t\t.reduce(function (a: string[], b)\n\t\t{\n\t\t\tls[b].forEach(function (value, index, array)\n\t\t\t{\n\t\t\t\ta.push(useSourcePath ? value.source_path : value.path);\n\t\t\t});\n\n\t\t\treturn a;\n\t\t}, [])\n\t\t;\n\t*/\n}\n"]}