{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":";AAAA;;GAEG;;;;;;;;;;;;;;;;AAEH,wDAAgC;AAChC,oDAA4B;AAGnB,iBAHF,gBAAM,CAGE;AAFf,wCAAsB;AAMtB,uCAA0C;AAC1C,2CAA2C;AAK3C,SAAgB,UAAU,CAAC,QAAS,EAAE,UAAoB,EAAE;IAE3D;QACC,IAAI,GAAG,GAAG,oBAAU,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QACxC,CAAC,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC;KAClD;IAED,IAAI,EAAE,GAAG,gBAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;IAExC,OAAO,kBAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;AAChC,CAAC;AAVD,gCAUC;AAMD,SAAgB,WAAW,CAAC,QAAS,EAAE,UAAoB,EAAE;IAE5D;QACC;;;UAGE;QAEF,CAAC,QAAQ,EAAE,OAAO,CAAC,GAAG,oBAAU,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;KACpD;IAED,IAAI,EAAE,GAAG,gBAAM,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;IAEnC,aAAa;IACb,IAAI,CAAC,GAAoB,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,kBAAQ,CAAC;IAE5E,OAAO,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;SAClB,IAAI,CAAC,UAAU,EAAE;QAEjB,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAU,EAC7C;YACC,OAAO,kBAAQ,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,4BAA4B,CAAC,CAAkC,CAAC;SACjG;QAED,OAAO,kBAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;IAChC,CAAC,CAAC,CACD;AACH,CAAC;AA3BD,kCA2BC;AAED,kBAAe,OAAmC,CAAC","sourcesContent":["/**\n * Created by user on 2018/1/26/026.\n */\n\nimport Bluebird from 'bluebird';\nimport globby from 'globby';\nexport * from './lib';\n\nexport { globby }\n\nimport { IOptions, } from '@lazy-glob/util/lib/types/glob';\n\nimport { globToList, } from './lib/index';\nimport { getOptions } from './lib/options';\nimport { IReturnList } from './lib/types';\n\nexport function globbySync(options: IOptions): IReturnList\nexport function globbySync(patterns?: string[], options?: IOptions): IReturnList\nexport function globbySync(patterns?, options: IOptions = {}): IReturnList\n{\n\t{\n\t\tlet ret = getOptions(patterns, options);\n\t\t[patterns, options] = [ret.patterns, ret.options];\n\t}\n\n\tlet ls = globby.sync(patterns, options);\n\n\treturn globToList(ls, options);\n}\n\ntype IglobbyASyncReturnType = ReturnType<typeof globToList>;\n\nexport function globbyASync(options: IOptions): Bluebird<IglobbyASyncReturnType>\nexport function globbyASync(patterns?: string[], options?: IOptions): Bluebird<IglobbyASyncReturnType>\nexport function globbyASync(patterns?, options: IOptions = {}): Bluebird<IglobbyASyncReturnType>\n{\n\t{\n\t\t/*\n\t\tlet ret = getOptions(patterns, options);\n\t\t[patterns, options] = [ret.patterns, ret.options];\n\t\t*/\n\n\t\t[patterns, options] = getOptions(patterns, options);\n\t}\n\n\tlet ls = globby(patterns, options);\n\n\t// @ts-ignore\n\tlet p: typeof Bluebird = options.libPromise ? options.libPromise : Bluebird;\n\n\treturn p.resolve(ls)\n\t\t.then(function (ls)\n\t\t{\n\t\t\tif ((!ls || !ls.length) && options.throwEmpty)\n\t\t\t{\n\t\t\t\treturn Bluebird.reject(new Error(`glob matched list is empty`)) as any as IglobbyASyncReturnType;\n\t\t\t}\n\n\t\t\treturn globToList(ls, options);\n\t\t})\n\t\t;\n}\n\nexport default exports as typeof import('./index');\n\n"]}