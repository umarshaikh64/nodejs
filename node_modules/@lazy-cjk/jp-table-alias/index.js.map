{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Created by user on 2019/7/26.\n */\n\nimport { array_unique_overwrite } from 'array-hyper-unique';\nimport { KEY_JP, KEY_ZHT, KEY_ZHS, IKEY_FROM_TO } from '@lazy-cjk/jp-table-convert/lib/types';\nimport { TABLE, TABLE_SAFE } from '@lazy-cjk/jp-table-convert/lib/table';\n\nexport interface IOptions\n{\n\tsafe?: boolean,\n\tincludeSelf?: boolean,\n}\n\nexport function _fromA2B(char: string, from: IKEY_FROM_TO, to: IKEY_FROM_TO, options: IOptions = {})\n{\n\tconst _table = options && options.safe ? TABLE_SAFE : TABLE;\n\n\tif (_table[from] && _table[to])\n\t{\n\t\tlet list: string[] = [];\n\n\t\tif (_table[from][char])\n\t\t{\n\t\t\tif (_table[from][char][to])\n\t\t\t{\n\t\t\t\tlist.push(_table[from][char][to]);\n\t\t\t}\n\n\t\t\tObject.values(_table[to])\n\t\t\t\t.forEach(row => {\n\n\t\t\t\t\tif (row[from] === char && row[to])\n\t\t\t\t\t{\n\t\t\t\t\t\tlist.push(row[to]);\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t;\n\n\t\t\tif (options && options.includeSelf)\n\t\t\t{\n\t\t\t\tlist.push(char);\n\t\t\t}\n\n\t\t\tlist = array_unique_overwrite(list);\n\t\t}\n\n\t\treturn list\n\t}\n\n\tthrow new RangeError(`${from}, ${to} is not exists in TABLE`)\n}\n\nexport function jp2zht(char: string, options?: IOptions)\n{\n\treturn _fromA2B(char, KEY_JP, KEY_ZHT, options)\n}\n\nexport function jp2zhs(char: string, options?: IOptions)\n{\n\treturn _fromA2B(char, KEY_JP, KEY_ZHS, options)\n}\n\nexport function zht2jp(char: string, options?: IOptions)\n{\n\treturn _fromA2B(char, KEY_ZHT, KEY_JP, options)\n}\n\nexport function zhs2jp(char: string, options?: IOptions)\n{\n\treturn _fromA2B(char, KEY_ZHS, KEY_JP, options)\n}\n\nexport function zh2jp(char: string, options?: IOptions)\n{\n\tlet arr = zht2jp(char, options)\n\t\t.concat(zhs2jp(char, options));\n\n\treturn array_unique_overwrite(arr)\n}\n\nexport function jp2zh(char: string, options?: IOptions)\n{\n\tlet arr = jp2zht(char, options)\n\t\t.concat(jp2zhs(char, options));\n\n\treturn array_unique_overwrite(arr)\n}\n\nexport function lazyAll(char: string, options?: IOptions)\n{\n\tlet arr = zh2jp(char, options)\n\t\t.reduce((a, b) => {\n\n\t\t\ta.push(b, ...jp2zh(b, options));\n\n\t\t\treturn a;\n\t\t}, [] as string[])\n\t\t.concat(jp2zh(char, options)\n\t\t\t.reduce((a, b) => {\n\n\t\t\t\ta.push(b, ...zh2jp(b, options));\n\n\t\t\t\treturn a;\n\t\t\t}, [] as string[]))\n\t;\n\n\treturn array_unique_overwrite(arr)\n}\n\nexport default exports as typeof import('./index');\n"]}