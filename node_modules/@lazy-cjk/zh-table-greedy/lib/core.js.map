{"version":3,"file":"core.js","sourceRoot":"","sources":["core.ts"],"names":[],"mappings":";AAAA;;GAEG;;;AAGH,2DAA0E;AAC1E,iCAAwC;AAExC,SAAgB,iBAAiB,CAAC,IAAiE;IAOlG,aAAa;IACb,MAAM,uBAAuB,GAAuB,IAAI,CAAC;IAEzD,IAAI,oBAA2C,CAAC;IAChD,IAAI,qBAA6B,CAAC;IAElC,oBAAoB,GAAG,IAAI,GAAG,EAAoB,CAAC;IAEnD,MAAM,GAAG,GAAG,uBAAuB;SACjC,MAAM,CAAC,UAAU,GAAG,EAAE,CAAC;QAEvB,MAAM,CAAC,GAAG,qBAAc,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;QAEpC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YAEb,oBAAoB,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;QAC/B,CAAC,CAAC,CAAC;QAEH,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QAEf,OAAO,GAAG,CAAC;IACZ,CAAC,EAAE,EAAc,CAAC,CAClB;IAED,qBAAqB,GAAG,IAAI,MAAM,CAAC,IAAI,iCAAY,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IAE3E,OAAO;QACN,uBAAuB;QACvB,oBAAoB;QACpB,qBAAqB;KACrB,CAAC;AACH,CAAC;AAtCD,8CAsCC","sourcesContent":["/**\n * Created by user on 2020/5/22.\n */\n\nimport UString from 'uni-string';\nimport { array_unique, array_unique_overwrite } from 'array-hyper-unique';\nimport { reToStringList } from './util';\n\nexport function _greedyTableBuild(data: [RegExp, string][] | readonly (readonly [RegExp, string])[]): {\n\n\t_greedyTableCacheRegexp: readonly (readonly [RegExp, string])[];\n\t_greedyTableCacheMap: Map<string, readonly string[]>;\n\t_greedyTableCacheTest: RegExp;\n}\n{\n\t// @ts-ignore\n\tconst _greedyTableCacheRegexp: [RegExp, string][] = data;\n\n\tlet _greedyTableCacheMap: Map<string, string[]>;\n\tlet _greedyTableCacheTest: RegExp;\n\n\t_greedyTableCacheMap = new Map<string, string[]>();\n\n\tconst arr = _greedyTableCacheRegexp\n\t\t.reduce(function (arr, r)\n\t\t{\n\t\t\tconst a = reToStringList(r[0], r[1])\n\n\t\t\ta.forEach(c =>\n\t\t\t{\n\t\t\t\t_greedyTableCacheMap.set(c, a)\n\t\t\t});\n\n\t\t\tarr.push(...a);\n\n\t\t\treturn arr;\n\t\t}, [] as string[])\n\t;\n\n\t_greedyTableCacheTest = new RegExp(`[${array_unique(arr).join('')}]`, 'u');\n\n\treturn {\n\t\t_greedyTableCacheRegexp,\n\t\t_greedyTableCacheMap,\n\t\t_greedyTableCacheTest,\n\t};\n}\n"]}