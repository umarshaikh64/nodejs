{"version":3,"file":"core.js","sourceRoot":"","sources":["core.ts"],"names":[],"mappings":"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","sourcesContent":["import { ITABLE_MAIN, ITABLE, KEY_JP, KEY_ZHT, KEY_ZHS, ITABLESUB, IKEY_FROM_TO } from './types';\nimport { IKanjiComparisonTable } from '@lazy-cjk/jp-table-comparison/lib/types';\n\nexport function _build_record(src: IKanjiComparisonTable): ITABLE_MAIN\n{\n\tlet to = {} as ITABLE_MAIN;\n\tto[KEY_JP] = {} as ITABLE;\n\tto[KEY_ZHT] = {} as ITABLE;\n\tto[KEY_ZHS] = {} as ITABLE;\n\n\tsrc.forEach(function (vrow)\n\t{\n\t\tlet [jp, zht, zhs] = vrow;\n\n\t\tlet k: IKEY_FROM_TO = KEY_JP;\n\t\tfor (let c of jp)\n\t\t{\n\t\t\tif (!c || to[k][c])\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tto[k][c] = to[k][c] || {} as ITABLESUB;\n\n\t\t\tto[k][c][k] = c;\n\t\t\tto[k][c][KEY_ZHT] = zht[0];\n\t\t\tto[k][c][KEY_ZHS] = zhs[0];\n\t\t}\n\n\t\tk = KEY_ZHT;\n\t\tfor (let c of zht)\n\t\t{\n\t\t\tif (!c || to[k][c])\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tto[k][c] = to[k][c] || {} as ITABLESUB;\n\n\t\t\tto[k][c][KEY_JP] = jp[0];\n\t\t\tto[k][c][k] = c;\n\t\t\tto[k][c][KEY_ZHS] = zhs[0];\n\t\t}\n\n\t\tk = KEY_ZHS;\n\t\tfor (let c of zhs)\n\t\t{\n\t\t\tif (!c || to[k][c])\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tto[k][c] = to[k][c] || {} as ITABLESUB;\n\n\t\t\tto[k][c][KEY_JP] = jp[0];\n\t\t\tto[k][c][KEY_ZHT] = zht[0];\n\t\t\tto[k][c][k] = c;\n\t\t}\n\t});\n\n\treturn to;\n}\n\nexport function _build_table(ZHJP_TABLE: IKanjiComparisonTable, ZHJP_TABLE_SAFE: IKanjiComparisonTable)\n{\n\tconst TABLE = _build_record(ZHJP_TABLE);\n\tconst TABLE_SAFE = _build_record(ZHJP_TABLE_SAFE);\n\n\treturn {\n\t\tTABLE,\n\t\tTABLE_SAFE,\n\t}\n}\n"]}